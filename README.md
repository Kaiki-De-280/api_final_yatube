# Yatube

Yatube — это REST‑API для социальной сети. С его помощью можно публиковать записи, комментировать их, объединять публикации в группы и подписываться на других пользователей.

# Описание

Проект реализует серверную часть для блога Yatube с использованием Django REST Framework. В API доступны следующие возможности:

* **Работа с публикациями**. Создание, получение, обновление и удаление записей

* **Комментирование**. Добавление и получение комментариев к публикациям

* **Добавление в группы**. Группировка публикаций по предустановленым темам

* **Система подписок**. Подписка на публикации других пользователей

## Как развернуть проект:

Склонировать репозиторий и перейти в него в терминале:

```
git clone https://github.com/Kaiki-De-280/api_final_yatube.git
```

```
cd api_final_yatube
```

Создать и активировать виртуальное окружение:

```
python3 -m venv venv
```

```
source venv/bin/activate       # Linux/macOS
```

```
source venv\Scripts\activate      # Windows
```

Установить зависимости из файла requirements.txt:

```
pip install -r requirements.txt
```

Выполнить миграции:

```
python3 manage.py migrate
```

Запустить проект:
```
python3 manage.py runserver
```

## Основные эндпоинты

>Все пути начинаются с префикса `/api/v1/`

### Аутентификация (JWT)

* **POST** `/jwt/create/` — получить пару токенов `access` и `refresh`

* **POST** `/jwt/refresh/` — обновить токен `access` по `refresh` токену

* **POST** `/jwt/verify/` — проверить валидность токена `access`

### Публикации (Posts)

* **GET** `/posts/` — получить список публикаций (поддерживается пагинация limit и offset)

* **POST** `/posts/` — создать публикацию (только авторизованные)

* **GET** `/posts/{id}/` — получить публикацию по id

* **PUT/PATCH** `/posts/{id}/` — обновить публикацию (только автор)

* **DELETE** `/posts/{id}/` — удалить публикацию (только автор)

### Комментарии (Comments)

* **GET** `/posts/{post_id}/comments/` — получить все комментарии публикации

* **POST** `/posts/{post_id}/comments/` — добавить комментарий (только авторизованные)

* **GET** `/posts/{post_id}/comments/{id}/` — получить комментарий публикации по id

* **PUT/PATCH/DELETE** `/posts/{post_id}/comments/{id}/` — работа с конкретным комментарием (только автор)

### Группы (Groups)

* **GET** `/groups/` — список групп.

* **GET** `/groups/{id}/` — получить информацию о группе по id

### Подписки (Follow)

* **GET** `/follow/` — список ваших подписок (только авторизованные).

* **POST** `/follow/` — подписаться на другого пользователя (только авторизованные).

## Примеры запросов

* **POST** `/posts/` — создание публикации

**Тело запроса**
```
{
  "text": "Первый мой пост",
  "group: 1
}
```


* **GET** `/posts/5/` — получить публикацию под номером 5

* **DELETE** `/posts/7/` — удаление поста номер 7


* **POST** `/posts/3/comments/ — создать комментарий к посту номер 3

**Тело запроса**
```
{
  "text": "Всегда хотел побывать на Байкале"
}
```


* **GET** `/posts/2/commets/` — получить все комментарию к посту номер 2


* **POST** `/following/` — подписаться на пользователя "qwerty"

**Тело запроса**
```
{
  "following": "qwerty"
}
```
